version: "3.8"

services:
  backend-test:
    container_name: careline-backend-test
    build: ./backend
    restart: unless-stopped
    environment:
      DATABASE_URL: postgresql://careline:careline_prod_2026@shared-postgres:5432/careline_test
      JWT_SECRET: ${TEST_JWT_SECRET:-test-jwt-secret-change-me}
      CORS_ORIGINS: "https://tbowo.top,http://localhost:5173"
    ports:
      - "127.0.0.1:8001:8000"
    networks:
      - shared-net

networks:
  shared-net:
    external: true
