<!-- pages/login/login.wxml - 修复版：隐私协议 + 账号登录 -->
<view class="login-page">
  <view class="logo-section">
    <text class="logo-emoji">🌱</text>
    <text class="logo-title">CareLine</text>
    <text class="logo-subtitle">用爱记录 · 让治疗更安心</text>
  </view>

  <view class="form-section">
    <view class="input-group">
      <text class="input-label">账号</text>
      <input
        type="text"
        maxlength="30"
        placeholder="请输入账号"
        value="{{account}}"
        bindinput="onAccountInput"
        class="input-field"
      />
    </view>

    <view class="input-group">
      <text class="input-label">密码</text>
      <input
        type="text"
        password="{{true}}"
        placeholder="请输入密码"
        value="{{password}}"
        bindinput="onPasswordInput"
        class="input-field"
      />
    </view>

    <!-- 隐私协议 -->
    <view class="privacy-row" bindtap="togglePrivacy">
      <view class="privacy-check {{privacyChecked ? 'checked' : ''}}">
        <text wx:if="{{privacyChecked}}">✓</text>
      </view>
      <text class="privacy-text">
        我已阅读并同意
        <text class="privacy-link" catchtap="openPrivacy">《隐私保护协议》</text>
      </text>
    </view>

    <button
      class="btn-primary login-btn"
      bindtap="onLogin"
      loading="{{loading}}"
      disabled="{{loading || !privacyChecked}}"
    >{{loading ? '登录中...' : '登录'}}</button>

    <view class="register-hint" bindtap="goRegister">
      <text class="hint-text">首次使用？输入账号直接登录即可</text>
    </view>
  </view>
</view>
